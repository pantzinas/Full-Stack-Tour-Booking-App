{"openapi":"3.0.1","info":{"title":"Tour API","description":"Provides API for Customers looking for Guided Tours","contact":{"name":"Admin","url":"https://cf.gr","email":"admin@cf.gr"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/guides/bookings/save/{id}":{"put":{"tags":["booking-rest-controller"],"summary":"Update the booking after guide found","operationId":"updateBookingGuide","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Booking updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}}}}},"/api/tours/save":{"post":{"tags":["tour-rest-controller"],"summary":"Save a tour","operationId":"saveTour","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourInsertDTO"}}},"required":true},"responses":{"200":{"description":"Tour inserted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourReadOnlyDTO"}}}}}}},"/api/guides/save":{"post":{"tags":["guide-rest-controller"],"summary":"Save a guide","operationId":"saveGuide","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideInsertDTO"}}},"required":true},"responses":{"200":{"description":"Guide inserted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideReadOnlyDTO"}}}}}}},"/api/guides/filtered":{"post":{"tags":["guide-rest-controller"],"summary":"Get guides filtered","operationId":"getFilteredGuides","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideFilters"}}}},"responses":{"200":{"description":"Guides Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/guides/filtered/paginated":{"post":{"tags":["guide-rest-controller"],"summary":"Get paginated and filtered guides","operationId":"getPaginatedFilteredGuides","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideFilters"}}}},"responses":{"200":{"description":"Guides Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/customers/save":{"post":{"tags":["customer-rest-controller"],"summary":"Save a customer","operationId":"saveCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerInsertDTO"}}},"required":true},"responses":{"200":{"description":"Customer inserted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerReadOnlyDTO"}}}}}}},"/api/customers/filtered":{"post":{"tags":["customer-rest-controller"],"summary":"Get customers filtered","operationId":"getFilteredCustomers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerFilters"}}}},"responses":{"200":{"description":"Customer Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/customers/filtered/paginated":{"post":{"tags":["customer-rest-controller"],"summary":"Get filtered and paginated customers","operationId":"getPaginatedFilteredCustomers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerFilters"}}}},"responses":{"200":{"description":"Customer Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/customers/bookings/save":{"post":{"tags":["booking-rest-controller"],"summary":"Save a booking","operationId":"saveBooking","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingInsertDTO"}}},"required":true},"responses":{"200":{"description":"Booking inserted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}}}}},"/api/auth/authenticate":{"post":{"tags":["auth-rest-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponseDTO"}}}}}}},"/api/tours/all":{"get":{"tags":["tour-rest-controller"],"summary":"Get all tours","operationId":"getAllTours","responses":{"200":{"description":"Tours Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/guides":{"get":{"tags":["guide-rest-controller"],"summary":"Get all guides","operationId":"getAllGuides","responses":{"200":{"description":"Guide Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/guides/paginated":{"get":{"tags":["guide-rest-controller"],"summary":"Get all guides paginated","operationId":"getPaginatedGuides","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Guide Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GuideReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/guides/bookings":{"get":{"tags":["booking-rest-controller"],"summary":"Get bookings of a guide","operationId":"getBookingsofAGuide","responses":{"200":{"description":"Booking Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/guides/available-bookings":{"get":{"tags":["booking-rest-controller"],"summary":"Get available bookings without a guide","operationId":"getBookingsWithoutGuide","responses":{"200":{"description":"Booking Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/customers":{"get":{"tags":["customer-rest-controller"],"summary":"Get all customers ","operationId":"getAllCustomers","responses":{"200":{"description":"Customers Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/customers/paginated":{"get":{"tags":["customer-rest-controller"],"summary":"Get all customers paginated","operationId":"getPaginatedCustomers","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}}],"responses":{"200":{"description":"Customers Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/customers/bookings":{"get":{"tags":["booking-rest-controller"],"summary":"Get all bookings of a customer","operationId":"getBookingsOfCustomer","responses":{"200":{"description":"Booking Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/bookings":{"get":{"tags":["booking-rest-controller"],"summary":"Get all bookings","operationId":"getAllBookings","responses":{"200":{"description":"Booking Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/bookings/paginated":{"get":{"tags":["booking-rest-controller"],"summary":"Get all bookings paginated","operationId":"getPaginatedBookings","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"Booking Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Access Denied"}},"security":[{"Bearer Authentication":[]}]}},"/api/tours/delete/{id}":{"delete":{"tags":["tour-rest-controller"],"summary":"Delete a tour","operationId":"deleteTourById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Tour deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TourReadOnlyDTO"}}}}}}},"/api/customers/bookings/delete/{id}":{"delete":{"tags":["booking-rest-controller"],"summary":"Delete a booking","operationId":"deleteBookingById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Booking deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookingReadOnlyDTO"}}}}}}}},"components":{"schemas":{"BookingReadOnlyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"bookingDate":{"type":"string","format":"date"},"guideReadOnlyDTO":{"$ref":"#/components/schemas/GuideReadOnlyDTO"},"tourReadOnlyDTO":{"$ref":"#/components/schemas/TourReadOnlyDTO"},"customerReadOnlyDTO":{"$ref":"#/components/schemas/CustomerReadOnlyDTO"}}},"CustomerReadOnlyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"uuid":{"type":"string"},"isActive":{"type":"boolean"},"userReadOnlyDTO":{"$ref":"#/components/schemas/UserReadOnlyDTO"}}},"GuideReadOnlyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"uuid":{"type":"string"},"isActive":{"type":"boolean"},"userReadOnlyDTO":{"$ref":"#/components/schemas/UserReadOnlyDTO"},"tourReadOnlyDTO":{"$ref":"#/components/schemas/TourReadOnlyDTO"}}},"TourReadOnlyDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"category":{"type":"string"},"price":{"type":"number","format":"double"}}},"UserReadOnlyDTO":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"vat":{"type":"string"}}},"TourInsertDTO":{"required":["category","price"],"type":"object","properties":{"category":{"type":"string"},"price":{"type":"number","format":"double"}}},"GuideInsertDTO":{"required":["isActive","tourCategory","userInsertDTO"],"type":"object","properties":{"isActive":{"type":"boolean"},"userInsertDTO":{"$ref":"#/components/schemas/UserInsertDTO"},"tourCategory":{"type":"string"}}},"UserInsertDTO":{"required":["dateOfBirth","firstname","genderType","isActive","lastname","nationality","role","vat"],"type":"object","properties":{"username":{"type":"string"},"password":{"pattern":"^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[!@#$%^&*]).{8,}$","type":"string"},"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"vat":{"pattern":"\\d{9}","type":"string"},"dateOfBirth":{"type":"string","format":"date"},"genderType":{"type":"string","enum":["MALE","FEMALE","OTHER"]},"nationality":{"type":"string"},"role":{"type":"string","enum":["GUIDE","CUSTOMER","ADMIN"]},"isActive":{"type":"boolean"}}},"GuideFilters":{"type":"object","properties":{"page":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"sortDirection":{"type":"string","enum":["ASC","DESC"]},"sortBy":{"type":"string"},"uuid":{"type":"string"},"userLastname":{"type":"string"},"userVat":{"type":"string"},"isActive":{"type":"boolean"},"tourCategory":{"type":"string"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageNumber":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"CustomerInsertDTO":{"required":["isActive","userInsertDTO"],"type":"object","properties":{"isActive":{"type":"boolean"},"userInsertDTO":{"$ref":"#/components/schemas/UserInsertDTO"}}},"CustomerFilters":{"type":"object","properties":{"page":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"sortDirection":{"type":"string","enum":["ASC","DESC"]},"sortBy":{"type":"string"},"uuid":{"type":"string"},"userLastname":{"type":"string"},"userVat":{"type":"string"},"isActive":{"type":"boolean"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"}}},"BookingInsertDTO":{"required":["bookingDate","tourCategory"],"type":"object","properties":{"bookingDate":{"type":"string","format":"date"},"tourCategory":{"type":"string"}}},"AuthenticationRequestDTO":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponseDTO":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"token":{"type":"string"}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}